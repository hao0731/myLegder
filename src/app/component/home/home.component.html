<section>
  <div class="container-fluid">
    <div class="card bg-light mb-3 assemblyTextType">
      <div class="card-body">
        <h2>建立帳本</h2>
        <hr>
        <div class="row justify-content-center">
          <div class="col-xl-4 col-lg-5 my-3 text-center">
            <h3>個人帳本</h3>
            <img src="assets/images/index/personal-ledger.svg" style="max-width:10rem;">
            <p class="text-muted mt-3">適合給個人、一般家庭使用，最純粹簡單的帳本</p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#setLedgerModal" (click)="setForm('personal')">建立個人帳本</button>
          </div>
          <div class="col-xl-4 col-lg-5 my-3 text-center">
            <h3>組織帳本</h3>
            <img src="assets/images/index/organization-ledger.svg" style="max-width:10rem;">
            <p class="text-muted mt-3">適合給一個組織共同記帳所使用，可以設置編輯權限與公開權限</p>
            <button class="btn btn-primary" data-toggle="modal" data-target="#setLedgerModal" (click)="setForm('organization')">建立組織帳本</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<section>
  <div class="modal fade" id="setLedgerModal" tabindex="-1" role="dialog" aria-labelledby="setLedgerModalTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content assemblyTextType">
        <form [formGroup]="setLedgerForm" (ngSubmit)="submitForm(setLedgerForm.value)" #createLedgerForm="ngForm">
          <div class="modal-header">
            <h5 class="modal-title" id="setLedgerModalTitle">建立帳本</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <div class="form-group">
              <label for="ledgername">帳本名稱</label>
              <input type="text" id="ledgername" class="form-control" [formControl]="setLedgerForm.controls['ledgername']" required>
            </div>
            <div *ngIf="setType === 'organization'" class="form-group">
              <label for="openAuth">公開權限</label>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="openAuth" id="openAuth1" value="close" [formControl]="setLedgerForm.controls['openAuth']" checked>
                <label class="form-check-label" for="openAuth1">
                  <span>非公開</span>
                  <p class="text-muted">僅供組織帳本之成員檢視</p>
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="openAuth" id="openAuth2" value="open" [formControl]="setLedgerForm.controls['openAuth']">
                <label class="form-check-label" for="openAuth2">  
                  <span>公開檢視</span>
                  <p class="text-muted">所有人皆可檢視該組織帳本</p>
                </label>
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="submit" class="btn btn-primary" [disabled]="!createLedgerForm.form.valid">建立帳本</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>